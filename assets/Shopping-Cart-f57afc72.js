import{_ as g,y as d,A as y,o as i,c as a,a as t,B as S,C as f,F as u,r as k,b as h,t as l,D as C,G as b,p as q,g as N}from"./index-a5c14a1a.js";const I={data(){const e=d().infoCart,o=d();return{cart:e,userStore:o}},methods:{cartToOrder(){if(!this.userStore.user)document.querySelector(".btn-signup").click();else{const e=JSON.stringify(this.userStore.cart.products),o=JSON.stringify(this.userStore.cart.totalPrice),_=JSON.stringify(this.userStore.user.address);this.userStore.order.products=JSON.parse(e),this.userStore.order.totalPrice=JSON.parse(o),this.userStore.order.address===""&&(this.userStore.order.address=JSON.parse(_)),this.$router.push({name:"checkout"})}},goDetailItem(e){this.$router.push({name:"shop-details",params:{id:e}})},removeItem(e,o,_){d().removeItem(e,o,_)},formatter(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}}},n=e=>(q("data-v-d7607e3a"),e=e(),N(),e),x={class:"breadcrumb-option"},T={class:"container"},w={class:"row"},O={class:"col-lg-12"},D={class:"breadcrumb__text"},V=n(()=>t("h4",null,"Giỏ hàng",-1)),$={class:"breadcrumb__links"},J=n(()=>t("span",null,"Giỏ hàng",-1)),B={class:"shopping-cart spad"},P={class:"container"},F={key:0,class:"row"},G=n(()=>t("div",{class:"col"},"Chưa có sản phẩm nào trong giỏ hàng !",-1)),U=[G],z={key:1,class:"row"},j={class:"col-lg-8"},A={class:"shopping__cart__table"},E=n(()=>t("thead",null,[t("tr",null,[t("th",null,"Sản phẩm"),t("th",null,"Số lượng"),t("th",null,"Tổng"),t("th")])],-1)),L={class:"product__cart__item"},M=["onClick"],H=["src"],K={class:"product__cart__item__text"},Q=["onClick"],R={class:"quantity__item"},W={class:"quantity"},X={class:"pro-qty-2"},Y=["onClick"],Z=["onUpdate:modelValue"],tt=["onClick"],st={class:"cart__price"},et=["onClick"],ot=n(()=>t("i",{class:"fa fa-close"},null,-1)),nt=[ot],ct={class:"row"},rt={class:"col-lg-12 col-md-12 col-sm-12 d-flex justify-content-center align-items-center"},it={class:"continue__btn"},at={class:"col-lg-4"},lt=n(()=>t("div",{class:"cart__discount"},null,-1)),_t={class:"cart__total"},dt=n(()=>t("h6",null,"Tổng chi phí giỏ hàng",-1));function ut(e,o,_,ht,p,c){const m=y("router-link");return i(),a(u,null,[t("section",x,[t("div",T,[t("div",w,[t("div",O,[t("div",D,[V,t("div",$,[S(m,{to:{name:"home"}},{default:f(()=>[h("Trang chủ")]),_:1}),J])])])])])]),t("section",B,[t("div",P,[this.userStore.user?(i(),a("div",z,[t("div",j,[t("div",A,[t("table",null,[E,t("tbody",null,[(i(!0),a(u,null,k(this.userStore.cart.products,(s,v)=>(i(),a("tr",{key:v},[t("td",L,[t("div",{class:"product__cart__item__pic",onClick:r=>c.goDetailItem(s.item_id)},[t("img",{src:s.color,alt:""},null,8,H)],8,M),t("div",K,[t("h6",{onClick:r=>c.goDetailItem(s.item_id)},l(s.title),9,Q),t("h5",null,l(c.formatter(s.price)),1),t("h5",null,l(s.size),1)])]),t("td",R,[t("div",W,[t("div",X,[t("span",{onClick:r=>s.quantity>1?s.quantity--:"",class:"fa fa-angle-left dec qtybtn"},null,8,Y),C(t("input",{type:"number","onUpdate:modelValue":r=>s.quantity=r},null,8,Z),[[b,s.quantity]]),t("span",{onClick:r=>s.quantity<99?s.quantity++:"",class:"fa fa-angle-right inc qtybtn"},null,8,tt)])])]),t("td",st,l(c.formatter(s.quantity*s.price)),1),t("td",{class:"cart__close",onClick:r=>c.removeItem(s.item_id,s.color,s.size)},nt,8,et)]))),128))])])]),t("div",ct,[t("div",rt,[t("div",it,[t("button",{onClick:o[0]||(o[0]=s=>this.$router.push({name:"shop"}))}," Tiếp tục mua sắm ")])])])]),t("div",at,[lt,t("div",_t,[dt,t("ul",null,[t("li",null,[h(" Tạm tính "),t("span",null,l(c.formatter(p.userStore.totalPriceComputer)),1)])]),t("a",{onClick:o[1]||(o[1]=s=>this.cartToOrder()),class:"primary-btn"},"Đặt hàng")])])])):(i(),a("div",F,U))])])],64)}const mt=g(I,[["render",ut],["__scopeId","data-v-d7607e3a"]]);export{mt as default};
